(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{189:function(e,t,a){e.exports=a(606)},193:function(e,t,a){},606:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(21),c=a.n(l);a(193),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=a(5),i=a.n(o),s=a(7),m=a(4),u=a(39),p=a(12),d=a(2),f=a(8),g=a(22),h=r.a.createContext(),b=a(74),E=a.n(b),y=a(75),v={color:{primary:{base:"#26dafd",baseRGB:[38,218,253]},background:{main:"#021114"}},font:{fontFamily:{title:"star_jediregular",regular:"'Segoe UI','Roboto','Oxygen','Ubuntu','Cantarell','Fira Sans','Droid Sans','Helvetica Neue',sans-serif"},baseSize:21}},x=a(183),j=Object(d.withStyles)((function(e){return{wrapper:{display:"inline-block",marginTop:5},select:{display:"inline-block",margin:[5,0],height:30,width:80,border:"none",outline:"none",boxShadow:"none",cursor:"pointer",backgroundColor:v.color.background.main,color:e.color.primary.base,fontSize:16,lineHeight:30},frame:{width:"auto",padding:"0 3px",display:"inline-block"}}}))((function(e){var t=e.classes,a=Object(y.a)(e,["classes"]),l=Object(n.useContext)(h),c=l.updateTheme,o=l.themeName;x.a;return r.a.createElement("span",a,r.a.createElement("div",{className:t.wrapper},r.a.createElement(d.Frame,{show:!0,animate:!0,corners:10,className:t.frame},r.a.createElement("select",{name:"theme",onChange:function(e){c(e.target.value)},className:t.select},r.a.createElement("option",{name:"theme",value:"luke",selected:"luke"===o,style:{color:"blue"}},"Luke"),r.a.createElement("option",{name:"theme",value:"windu",selected:"windu"===o},"Windu"),r.a.createElement("option",{name:"theme",value:"vader",selected:"vader"===o},"Vader"),r.a.createElement("option",{name:"theme",value:"yoda",selected:"yoda"===o},"Yoda"),r.a.createElement("option",{name:"theme",value:"rey",selected:"rey"===o},"Rey")))))})),O=Object(d.withStyles)((function(e){return{navBar:Object(f.a)({display:"flex",padding:".75rem 1.5rem",justifyContent:"space-between",alignItems:"center"},"@media (max-width: ".concat(e.responsive.small+1,"px)"),{padding:"1rem"}),navLinks:{display:"inline-block"},mainTitle:Object(f.a)({fontSize:"3rem",display:"inline-block",margin:0,paddingRight:"1rem"},"@media (max-width: ".concat(e.responsive.small+1,"px)"),{fontSize:"1.5rem"}),secondary:Object(f.a)({padding:" 0 .5rem",fontSize:"1.5rem",fontWeight:600},"@media (max-width: ".concat(e.responsive.small+1,"px)"),{display:"none"}),buttonWrapper:{display:"flex",alignItems:"center",justifyContent:"space-between",width:350},icon:{fontSize:"1.5rem",position:"relative",top:5},loggedInWrapper:{display:"inline-flex",alignItems:"center"},dropdown:Object(f.a)({position:"absolute",zIndex:5,right:15,top:50},"& ul",{listStyleType:"none",margin:0,padding:"1rem"}),modal:{position:"fixed",top:0,bottom:0,left:0,right:0,zIndex:4},button:Object(f.a)({width:100,textAlign:"center"},"@media (max-width: ".concat(e.responsive.small+1,"px)"),{display:"none"}),theme:Object(f.a)({marginRight:"2em"},"@media (max-width: ".concat(e.responsive.small+1,"px)"),{display:"none"}),mobileLoginSignup:Object(f.a)({display:"none"},"@media (max-width: ".concat(e.responsive.small+1,"px)"),{display:"inline-block"})}}))((function(e){var t=e.classes,a=Object(n.useContext)(h),l=a.logout,c=a.user,o=Object(n.useState)(!1),i=Object(m.a)(o,2),s=i[0],u=i[1],p=Object(n.useState)(!1),f=Object(m.a)(p,2),b=f[0],y=f[1],v=function(e){u(!s)},x=function(e){y(!b)};return r.a.createElement(d.Header,{animate:!0,layer:"header"},r.a.createElement("nav",{className:t.navBar},r.a.createElement("div",{className:t.navLinks},r.a.createElement(d.Link,{href:"/"},r.a.createElement(d.Heading,{node:"h2",style:{fontSize:"1.75rem"},className:"".concat(t.mainTitle," title-style")},"StarTrader")),r.a.createElement(d.Link,{href:"/",className:t.secondary},"Marketplace"),r.a.createElement(d.Link,{href:"/sell-ship",className:t.secondary},"Sell Ship")),c?r.a.createElement("div",null,r.a.createElement("div",{className:t.loggedInWrapper},r.a.createElement(j,{className:t.theme}),r.a.createElement(d.Link,null,r.a.createElement(g.c,{className:t.icon,onClick:v}))),s?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.dropdown},r.a.createElement(d.Frame,{animate:!0,level:3,corners:4,onClick:v},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(d.Link,{href:"/profile"},"Profile")),r.a.createElement("li",null,r.a.createElement(d.Link,{href:"/sell-ship"},"Sell Ship")),r.a.createElement("li",null,r.a.createElement(d.Link,{href:"/logout",onClick:function(){l()}},"Logout"))))),r.a.createElement("div",{className:t.modal,onClick:v})):""):r.a.createElement("div",{className:t.buttonWrapper},r.a.createElement(j,{className:t.theme}),r.a.createElement(d.Link,{href:"/login"},r.a.createElement(E.a,{className:t.button},"Login")),r.a.createElement(d.Link,{href:"/signup",layer:"primary"},r.a.createElement(E.a,{className:t.button},"Sign Up")),r.a.createElement("div",null,r.a.createElement("div",{className:t.mobileLoginSignup},r.a.createElement(d.Link,null,r.a.createElement(g.c,{className:t.icon,onClick:x})),b&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.dropdown},r.a.createElement(d.Frame,{animate:!0,level:3,corners:4,onClick:x},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(d.Link,{href:"/login"},"Login")),r.a.createElement("li",null,r.a.createElement(d.Link,{href:"/signup"},"Sign Up"))))),r.a.createElement("div",{className:t.modal,onClick:x})," "))))))})),w=Object(d.withStyles)((function(e){return{container:Object(f.a)({},"@media (max-width: ".concat(e.responsive.medium+1,"px)"),{flexDirection:"column",justifyContent:"center"})}}))((function(e){var t=e.classes,a={footerContainer:{position:"static",maxheight:"100vh",width:"100%"},contentWrapper:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1em 2em"},footerContent:{display:"inline-flex",alignItems:"center",githubIcon:{position:"relative",top:6,fontSize:30,paddingRight:".75rem"},about:{margin:0}}};return r.a.createElement(d.Footer,{animate:!0,style:a.footerContainer},r.a.createElement("div",{style:a.contentWrapper,className:t.container},r.a.createElement("span",{style:a.theme},r.a.createElement(j,null)),r.a.createElement("span",{style:a.footerContent},r.a.createElement(d.Link,{href:"https://github.com/bpmutter/sw-trader-frontend",target:"_blank",style:a.footerContent.githubIcon},r.a.createElement(g.a,null)),r.a.createElement("p",{style:a.footerContent.about},"Made with great force focus by"," ",r.a.createElement(d.Link,{href:"https://bradsimpson213.github.io/bradsimpson/",target:"_blank"},"Brad Simpson")," ","and"," ",r.a.createElement(d.Link,{href:"http://ben.perlmutter.io/",target:"_blank"},"Ben Perlmutter"),"."," "))))})),k=function(e){var t=e.ship,a=e.hideOwner,n={wrapper:{margin:"1rem"},frame:{maxWidth:275,display:"inline-block","&::hover":{transform:"scale(1.1)"}},img:{cursor:"pointer",maxWidth:275},content:{cursor:"default",padding:".5rem 1rem",title:{textAlign:"center"},additionalInfo:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"}}};return r.a.createElement(d.Content,{style:n.wrapper},r.a.createElement(d.Frame,{animate:!0,hover:!0,style:n.img},r.a.createElement("a",{href:"/listings/".concat(t.id)},r.a.createElement(d.Image,{animate:!0,resources:t.starship_type.ship_image,layer:"primary",style:n.img})),r.a.createElement(d.Content,{style:n.content},r.a.createElement("h3",{style:n.content.title},r.a.createElement("a",{href:"/listings/".concat(t.id)},t.custom_name||t.starship_type.type_name)),r.a.createElement("p",{style:n.content.additionalInfo},r.a.createElement("span",null,t.sale_price," credits"),r.a.createElement("span",null,r.a.createElement(d.Words,{layer:"success"},t.for_sale?"For Sale":""))),!a&&r.a.createElement("p",null,"Listing by ",r.a.createElement("a",{href:"/users/".concat(t.user.id)},t.user.name)))))},C=a(73),S=a.n(C),N=function(e){var t=e.title,a=e.ships,n=e.hideOwner,l={container:{padding:"1rem",minWidth:275},listings:{display:"flex",flexWrap:"wrap",justifyContent:"space-evenly"}};return r.a.createElement(d.Content,{style:l.container},r.a.createElement(d.Heading,{node:"h2",style:{textAlign:"center"}},t),a?r.a.createElement(d.Content,{style:l.listings},a.length?a.map((function(e){return r.a.createElement(k,{ship:e,hideOwner:n})})):r.a.createElement("p",null,"No ships yet!")):r.a.createElement(S.a,null))},_=function(){var e=Object(n.useState)(null),t=Object(m.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)((function(){Object(s.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://star-trader-server.herokuapp.com","/ships/all"));case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,l(a.star_ships.reverse().slice(0,9));case 7:case"end":return e.stop()}}),e)})))()}),[]),r.a.createElement(N,{title:"Latest Listings",ships:a})},I=function(){var e=Object(n.useState)(null),t=Object(m.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)((function(){Object(s.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://star-trader-server.herokuapp.com","/ships/uniques"));case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,l(a.star_ships);case 7:case"end":return e.stop()}}),e)})))()}),[]),r.a.createElement(N,{title:"Unique Listings",ships:a})},W=function(e){var t=e.type,a=Object(n.useState)(null),l=Object(m.a)(a,2),c=l[0],o=l[1];return Object(n.useEffect)((function(){Object(s.a)(i.a.mark((function e(){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://star-trader-server.herokuapp.com","/ships/class/").concat(t));case 2:return a=e.sent,e.next=5,a.json();case 5:n=e.sent,o(n.star_ships);case 7:case"end":return e.stop()}}),e)})))()}),[t]),r.a.createElement(N,{title:"".concat(t,"s"),ships:c})},B=Object(d.withStyles)((function(e){return{main:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:"3rem"},frame:{margin:".75rem",maxWidth:1200},buttonWrapper:Object(f.a)({},"@media (max-width: ".concat(e.responsive.small+1,"px)"),{boxSizing:"border-box",display:"flex",flexWrap:"nowrap",alignItems:"center",width:"90vw",padding:"0 .25rem",height:70,overflowX:"scroll"}),button:Object(f.a)({margin:".5rem .5rem"},"@media (max-width: ".concat(e.responsive.small+1,"px)"),{fontSize:".75rem"})}}))((function(e){var t=e.classes,a=Object(n.useState)("latest"),l=Object(m.a)(a,2),c=l[0],o=l[1];return r.a.createElement("main",{className:t.main},r.a.createElement(d.Frame,{animate:!0,level:3,corners:2,layer:"primary",className:t.frame},r.a.createElement("div",{className:t.buttonWrapper},r.a.createElement(d.Button,{className:t.button,onClick:function(){o("latest")}},"Latest"),r.a.createElement(d.Button,{className:t.button,onClick:function(){o("unique")}},"Unique"),r.a.createElement(d.Button,{className:t.button,onClick:function(){o("Starfighter")}},"Starfighters"),r.a.createElement(d.Button,{className:t.button,onClick:function(){o("Star Dreadnought")}},"Dreadnoughts"),r.a.createElement(d.Button,{className:t.button,onClick:function(){o("Star Cruiser")}},"Cruisers"),r.a.createElement(d.Button,{className:t.button,onClick:function(){o("Freighter")}},"Freighters"),r.a.createElement(d.Button,{className:t.button,onClick:function(){o("Transport")}},"Transports"))),r.a.createElement(d.Frame,{animate:!0,level:3,corners:4,layer:"primary",className:t.frame},"latest"===c&&r.a.createElement(_,null),"unique"===c&&r.a.createElement(I,null),"unique"!==c&&"latest"!==c&&r.a.createElement(W,{type:c})))})),F=Object(d.withStyles)({wrapper:{position:"fixed",width:500,height:200,top:"50%",left:"50%",marginTop:-100,marginLeft:-250}})((function(e){var t=e.classes;return r.a.createElement("div",{className:t.wrapper},r.a.createElement(d.Loading,{animate:!0}),r.a.createElement(d.Loading,{animate:!0,small:!0}),r.a.createElement("div",{style:{position:"relative",width:200,height:200}},r.a.createElement(d.Loading,{animate:!0,full:!0})))})),P=a(52),L=a.n(P),T=a(60),A=a.n(T),q=Object(d.withStyles)((function(e){return{labelText:Object(f.a)({width:165,display:"inline-flex",paddingRight:"1rem",textAlign:"right",fontFamily:v.font.fontFamily.regular,fontSize:v.font.baseSize,height:v.font.baseSize+20,alignItems:"flex-start",justifyContent:"flex-end"},"@media (max-width: ".concat(e.responsive.small+1,"px)"),{display:"block",textAlign:"left",paddingBottom:".5rem",width:"100%"})}}))((function(e){var t=e.classes,a=e.label,n=e.required;return r.a.createElement(A.a,{layer:"primary"},r.a.createElement("span",{className:t.labelText},a,n?r.a.createElement("span",null,r.a.createElement(A.a,{layer:"alert"},"*")):""))})),z=Object(d.withStyles)((function(e){return{container:Object(f.a)({},"@media (max-width: ".concat(e.responsive.small+1,"px)"),{display:"flex",flexDirection:"column",marginBottom:".5em"}),labelText:{width:150,display:"inline-block",paddingRight:"1rem",textAlign:"right"},select:Object(f.a)({display:"inline-block",margin:[5,0],height:30,width:230,border:"none",outline:"none",boxShadow:"none",cursor:"pointer",backgroundColor:v.color.background.main,color:e.color.primary.base,fontSize:v.font.baseSize,lineHeight:"30px"},"@media (max-width: ".concat(e.responsive.small+1,"px)"),{width:"100%"}),frame:{width:"auto",padding:"0 3px",display:"inline-block"}}}))((function(e){var t=e.classes,a=e.label,n=e.onChange,l=e.name,c=e.options,o=e.optionValueId,i=e.optionInnerContent,s=e.required,m=e.selected,u=e.selectClass;return r.a.createElement("div",null,r.a.createElement("label",{className:t.container},a&&r.a.createElement(q,{label:a,required:s}),r.a.createElement(d.Frame,{show:!0,animate:!0,corners:4,className:t.frame},r.a.createElement("select",{name:l,onChange:n,className:u||t.select,required:s},c.map((function(e){return r.a.createElement("option",{name:l,value:e[o],selected:m===e[o]},e[i])}))))))})),R=a(9),D=a.n(R),U=D()((function(e){return{container:Object(f.a)({display:"flex",justifyContent:"flex-start"},"@media (max-width: ".concat(e.responsive.small+1,"px)"),{flexDirection:"column",marginBottom:".5em"}),inputFrame:{padding:"5px 3px",display:"inline-block",backgroundColor:v.color.background.main,height:v.font.baseSize+20},input:{width:"100%",height:"100%",margin:0,outline:"none",border:"none",backgroundColor:v.color.background.main,color:e.color.primary.base,fontSize:v.font.baseSize,fontFamily:"'Segoe UI','Roboto','Oxygen','Ubuntu','Cantarell','Fira Sans','Droid Sans','Helvetica Neue',sans-serif"}}}))((function(e){var t=e.classes,a=e.width,n=e.type,l=e.name,c=e.label,o=e.value,i=e.onChange,s=e.required,m={inputFrame:{width:a},input:{height:"textarea"===n?125:"100%"}};return r.a.createElement("p",{className:t.container},r.a.createElement("label",{for:l},r.a.createElement(q,{label:c,required:s})),r.a.createElement(d.Frame,{show:!0,animate:!0,corners:4,className:t.inputFrame,style:m.inputFrame},r.a.createElement("input",{style:m.input,className:t.input,type:n,name:l,onChange:i,required:s,value:o})))})),H=D()({radio:{display:"inline-block",padding:[0,10]}})((function(e){var t=e.classes,a=e.name,n=e.value,l=e.label,c=e.onChange,o=e.checked;return r.a.createElement("div",{className:t.radio},r.a.createElement(d.Words,{layer:"primary"},r.a.createElement("label",null,r.a.createElement("input",{name:a,type:"radio",value:n,checked:o,onChange:c}),l)))})),J=D()((function(e){return{container:Object(f.a)({display:"flex",justifyContent:"flex-start"},"@media (max-width: ".concat(e.responsive.small+1,"px)"),{flexDirection:"column",marginBottom:".5em"}),inputFrame:{padding:"5px 3px",display:"inline-block"},input:{width:"100%",margin:0,outline:"none",border:"none",backgroundColor:v.color.background.main,color:e.color.primary.base,fontSize:v.font.baseSize,fontFamily:"'Segoe UI','Roboto','Oxygen','Ubuntu','Cantarell','Fira Sans','Droid Sans','Helvetica Neue',sans-serif"}}}))((function(e){var t=e.classes,a=e.width,n=e.type,l=e.name,c=e.label,o=e.value,i=e.onChange,s=e.required,m={inputFrame:{width:a},input:{height:"textarea"===n?125:"100%"}};return r.a.createElement("p",{className:t.container},r.a.createElement("label",{for:l},r.a.createElement(q,{label:c,required:s})),r.a.createElement(d.Frame,{show:!0,animate:!0,corners:4,className:t.inputFrame,style:m.inputFrame},r.a.createElement("textarea",{style:m.input,className:t.input,type:n,name:l,onChange:i,required:s,value:o})))}));L.a.setAppElement("#root");var M=Object(m.a)(v.color.primary.baseRGB,3),G=M[0],Y=M[1],V=M[2],X={overlay:{backgroundColor:"rgba(".concat(G,",").concat(V,",").concat(Y,",.15)")},content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",width:"auto",border:"none",backgroundColor:"transparent",padding:0}},$={container:{maxWidth:600,margin:"0 auto",backgroundColor:"none",overflow:"none"},title:{textAlign:"center",margin:"1rem"},contentWrapper:{margin:"2rem"},frame:{backgroundColor:v.color.background.main,margin:"5px"}},K=function(e){var t=e.listing,a=e.rerenderParent,l=Object(n.useState)(t.custom_name),c=Object(m.a)(l,2),o=c[0],u=c[1],p=Object(n.useState)(t.sale_price),f=Object(m.a)(p,2),b=f[0],E=f[1],y=Object(n.useState)(t.lightyears_traveled),v=Object(m.a)(y,2),x=v[0],j=v[1],O=Object(n.useState)(t.seller_comment),w=Object(m.a)(O,2),k=w[0],C=w[1],S=Object(n.useState)(t.for_sale?"true":"false"),N=Object(m.a)(S,2),_=N[0],I=N[1],W=Object(n.useState)(null),B=Object(m.a)(W,2),F=B[0],P=B[1],T=Object(n.useState)(!1),A=Object(m.a)(T,2),z=A[0],R=A[1],D=Object(n.useContext)(h),M=D.user.id,G=D.token,Y=function(e){switch(e.target.name){case"custom_name":u(e.target.value);break;case"sale_price":E(e.target.value);break;case"lightyears_traveled":j(e.target.value);break;case"for_sale":I(e.target.value);break;case"seller_comment":C(e.target.value);break;default:return}},V=function(){var e=Object(s.a)(i.a.mark((function e(n){var r,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,fetch("".concat("https://star-trader-server.herokuapp.com","/ships/update/").concat(t.id),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:G},body:JSON.stringify({custom_name:o,sale_price:parseInt(b),lightyears_traveled:parseInt(x),seller_comment:k,for_sale:"true"===_,owner:M})});case 4:return r=e.sent,e.next=7,r.json();case 7:if(!(l=e.sent).error){e.next=13;break}return P(l.error),e.abrupt("return");case 13:K(),a();case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(1),console.error("NEW ERROR::",e.t0),alert("Oh no, it looks like there was some force interference causing problems with our server. Please try again later.");case 21:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t){return e.apply(this,arguments)}}();function K(){R(!1)}return r.a.createElement("div",null,r.a.createElement(d.Content,null,r.a.createElement(d.Button,{onClick:function(){R(!0)}},"Edit Listing"),r.a.createElement(L.a,{isOpen:z,onRequestClose:K,style:X,contentLabel:"Example Modal"},r.a.createElement(d.Content,{style:$.container},r.a.createElement(d.Frame,{animate:!0,level:3,corners:4,style:$.frame},r.a.createElement("div",{style:$.contentWrapper},r.a.createElement(d.Button,{onClick:K},r.a.createElement(g.b,null)),r.a.createElement(d.Heading,{node:"h2",style:$.title},"Update Your Listing"),r.a.createElement("div",{style:{padding:".75rem .75rem .75rem",textAlign:"center"}},r.a.createElement(d.Words,{animate:!0,layer:"alert"},F||" ")),r.a.createElement("div",null,r.a.createElement("form",{onSubmit:V,style:$.loginForm},r.a.createElement(U,{label:"Custom Name: ",type:"text",name:"custom_name",onChange:Y,value:o}),r.a.createElement(U,{label:"Price: ",type:"number",name:"sale_price",onChange:Y,required:!0,value:b}),r.a.createElement(U,{label:"Lightyears Traveled: ",type:"number",name:"lightyears_traveled",onChange:Y,required:!0,value:x}),r.a.createElement("p",{style:{padding:".5rem 0"}},r.a.createElement(q,{label:"For Sale: ",required:!0}),r.a.createElement(H,{name:"for_sale",value:"true",checked:"true"===_,onChange:Y,label:"Yes"}),r.a.createElement(H,{name:"for_sale",value:"false",checked:"false"===_,onChange:Y,label:"Not Right Now"})),r.a.createElement(J,{label:"Comment: ",type:"textarea",name:"seller_comment",onChange:Y,value:k}),r.a.createElement("p",{style:{textAlign:"center"}},r.a.createElement(d.Button,null,"Update Listing"))))))))))};L.a.setAppElement("#root");var Q=Object(m.a)(v.color.primary.baseRGB,3),Z=Q[0],ee=Q[1],te=Q[2],ae={overlay:{backgroundColor:"rgba(".concat(Z,",").concat(te,",").concat(ee,",.15)")},content:{top:25,bottom:25,margin:"0 auto",maxWidth:600,border:"none",backgroundColor:"transparent"}},ne=Object(d.withStyles)((function(e){return{container:{maxWidth:600,margin:"0 auto",backgroundColor:"none",overflow:"none",color:e.color.primary.base,fontFamily:v.font.fontFamily.regular,fontSize:v.font.baseSize},frame:{backgroundColor:v.color.background.main,margin:"1rem"}}}))((function(e){var t=e.classes,a=e.children,l=e.buttonText,c=e.buttonLayer,o=e.buttonStyles,i=e.contentLabel,s=Object(n.useState)(!1),u=Object(m.a)(s,2),p=u[0],f=u[1],g=r.a.Children.toArray(a);function h(){f(!0)}function b(){f(!1)}return 1===g.length?g=r.a.cloneElement(g[0],{openModal:function(){return h()},closeModal:function(){return b()}}):g.length>0&&(g=g.map((function(e){return r.a.cloneElement(e,{openModal:function(){return h()},closeModal:function(){return b()}})}))),r.a.createElement("div",null,r.a.createElement(d.Content,null,r.a.createElement(d.Button,{onClick:h,layer:c,style:o},l),r.a.createElement(L.a,{isOpen:p,onRequestClose:b,style:ae,contentLabel:i||""},r.a.createElement(d.Content,{className:t.container},r.a.createElement(d.Frame,{animate:!0,level:3,corners:4,className:t.frame},g)))))})),re={wrapper:{padding:"2rem"},buttonContainer:{paddingTop:"1rem",display:"flex",justifyContent:"space-evenly"},exitButton:{float:"right",postion:"relative",bottom:15}},le=function(e){var t=e.ship,a=e.rerenderParent,l=e.closeModal,c=Object(n.useContext)(h),o=c.user,m=c.id,u=c.token,p=o.credit>=t.sale_price,f=t.custom_name||t.starship_type.type_name,b=function(){var e=Object(s.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://star-trader-server.herokuapp.com","/transactions"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:u},body:JSON.stringify({buyer:m,seller:t.user.id,starship:t.id,sale_price:t.sale_price})});case 2:n=e.sent,n.json().error?alert("It looks like there was some force interference and your transaction could not be processed. Please try again later."):(l(),a());case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{style:re.wrapper},r.a.createElement(d.Button,{onClick:l,style:re.exitButton},r.a.createElement(g.b,null)),r.a.createElement(d.Heading,{node:"h3"},"Buy ",f),m?p?r.a.createElement(d.Words,{layer:"primary"},r.a.createElement("div",null,r.a.createElement("p",null,"Are you sure you want to buy ",f,"?"),r.a.createElement("p",null,"The ship costs ",t.sale_price,", and you have ",o.credit,". After this purchase you will have"," ",o.credit-t.sale_price," credits remaining."),r.a.createElement("div",null,r.a.createElement(d.Button,{onClick:b},"Buy Ship")))):r.a.createElement("div",null,r.a.createElement("p",null,"It looks like you don't have enough credits to buy ",f,"."),r.a.createElement("p",null,f," costs ",t.sale_price," credits."),r.a.createElement("p",null,"Your current credit balance is: ",o.credit),r.a.createElement("p",null,"You can add credits on your profile page."),r.a.createElement(d.Link,{href:"/profile"},r.a.createElement(d.Button,null,"Go to Profile"))):r.a.createElement(d.Words,{layer:"primary"},r.a.createElement("div",null,r.a.createElement("p",null,"It looks like you're not logged in. Please log in or create an account to buy ",f,"."),r.a.createElement("div",{style:re.buttonContainer},r.a.createElement(d.Link,{href:"/login"},r.a.createElement(d.Button,null,"Log In")),r.a.createElement(d.Link,{href:"/signup"},r.a.createElement(d.Button,null,"Sign Up"))))))},ce=function(e){var t=e.rerenderParent,a=e.ship;return r.a.createElement(ne,{buttonText:"Buy Ship",buttonLayer:"success"},r.a.createElement(le,{ship:a,rerenderParent:t}))},oe=Object(d.withStyles)((function(e){return{contentInFrame:{padding:"1.5rem"},container:Object(f.a)({padding:"1.5rem",display:"grid",gridTemplateColumns:"3fr 2fr",gridTemplateRows:"auto auto",gridAutoRows:"minmax(300px, auto)"},"@media (max-width: ".concat(e.responsive.medium+1,"px)"),{gridTemplateColumns:"1fr",gridTemplateRows:"auto auto auto auto"}),img:Object(f.a)({maxWidth:"100%",margin:".75rem",gridColumn:"1/2",gridRow:"1 /2"},"@media (max-width: ".concat(e.responsive.medium+1,"px)"),{gridColumn:"1/2",gridRow:"1 /2"}),infoWrapper:Object(f.a)({width:"100%",height:"100%",margin:".75rem",padding:"1rem",gridColumn:"2/3",gridRow:"1 /3"},"@media (max-width: ".concat(e.responsive.medium+1,"px)"),{gridColumn:"1/2",gridRow:"2/3",margin:0}),mainInfo:{marginBottom:"1rem"},seller:{gridColumn:"2/3"},sellerContent:{padding:".5rem",display:"grid",gridTemplateColumns:"2fr 3fr"},sellerImg:{gridColumn:"1/2",margin:".5rem",maxWidth:150,display:"flex",justifyContent:"center",alignItems:"center"},sellerInfo:{gridColumn:"2/3",padding:".5rem"},additionalInfo:Object(f.a)({padding:".5rem",gridColumn:"1/2",gridRow:"2 / 3",height:"100%"},"@media (max-width: ".concat(e.responsive.medium+1,"px)"),{gridColumn:"1/2",gridRow:"3/4"})}}))((function(e){var t=e.classes,a=parseInt(Object(p.g)().id),l=Object(n.useContext)(h),c=l.id,o=(l.user,Object(n.useState)({})),u=Object(m.a)(o,2),f=u[0],g=u[1];Object(n.useEffect)((function(){Object(s.a)(i.a.mark((function e(){var t,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://star-trader-server.herokuapp.com","/ships/").concat(a));case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,r=n.star_ship,g(r);case 8:case"end":return e.stop()}}),e)})))()}),[a,f.id]);var b=function(){var e=Object(s.a)(i.a.mark((function e(){var t,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://star-trader-server.herokuapp.com","/ships/").concat(a));case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,r=n.star_ship,g(r);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,f.id?r.a.createElement(d.Content,{className:t.container},r.a.createElement("div",{className:t.img},r.a.createElement(d.Image,{animate:!0,layer:"primary",resources:f.starship_type.ship_image})),r.a.createElement("div",{className:t.infoWrapper},r.a.createElement(d.Content,{className:t.mainInfo},r.a.createElement(d.Frame,{animate:!0,level:3,corners:4},r.a.createElement(d.Content,{className:t.contentInFrame},r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement("h1",null,f.custom_name||f.starship_type.type_name),f.user.id===c?f.for_sale?r.a.createElement(d.Button,{animate:!0,layer:"success"},"For Sale"):r.a.createElement(d.Button,{animate:!0,disabled:!0},"Not For Sale"):null),r.a.createElement("p",null,"Price: ",f.sale_price," credits"),r.a.createElement("p",null,"Lightyears Traveled: ",f.lightyears_traveled),r.a.createElement("p",null,"Type: ",f.starship_type.type_name),r.a.createElement("p",null,"Model: ",f.starship_type.model),r.a.createElement("p",null,"Manufacturer: ",f.starship_type.manufacturer),r.a.createElement("p",null,"Class: ",f.starship_type.starship_class),r.a.createElement("p",null,"Seller Comment: ",f.seller_comment),r.a.createElement("p",null,f.user.id===c?r.a.createElement(K,{listing:f,rerenderParent:b}):f.for_sale?r.a.createElement(ce,{ship:f,rerenderParent:b}):r.a.createElement(d.Button,{animate:!0,disabled:!0},"Not For Sale"))))),r.a.createElement(d.Content,{className:t.seller},r.a.createElement(d.Frame,{animate:!0,level:3,corners:4},r.a.createElement(d.Content,{className:t.sellerContent},r.a.createElement(d.Content,{className:t.sellerImg},r.a.createElement(d.Image,{resources:f.user.user_image})),r.a.createElement(d.Content,{className:t.sellerInfo},r.a.createElement("h2",null,r.a.createElement("span",null,f.for_sale?"Seller":"Owner")," Info"),r.a.createElement("p",null,f.user.name),r.a.createElement(d.Link,{href:"/users/".concat(f.user.id)},r.a.createElement(d.Button,null,"Go to Profile"))))))),r.a.createElement("div",{className:t.additionalInfo},r.a.createElement(d.Frame,{animate:!0,level:3,corners:4},r.a.createElement(d.Content,{className:t.contentInFrame},r.a.createElement("h3",null,"Additional Info"),r.a.createElement("div",null,r.a.createElement("h4",null,"Capacity"),r.a.createElement("ul",null,r.a.createElement("li",null,"Cargo: ",f.starship_type.cargo),r.a.createElement("li",null,"Consumables: ",f.starship_type.consumables),r.a.createElement("li",null,"Crew: ",f.starship_type.crew),r.a.createElement("li",null,"Passengers: ",f.starship_type.passengers),r.a.createElement("li",null,"Length: ",f.starship_type.length))),r.a.createElement("div",null,r.a.createElement("h4",null,"Speed"),r.a.createElement("ul",null,r.a.createElement("li",null,"Base speed: ",f.starship_type.mglt),r.a.createElement("li",null,"Hyperdrive Rating:"," ",f.starship_type.hyperdrive_rating))))))):r.a.createElement(F,null))})),ie=function(e){var t=e.name,a=e.id,l=e.user,c=Object(n.useState)([]),o=Object(m.a)(c,2),u=o[0],p=o[1];return Object(n.useEffect)((function(){Object(s.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://star-trader-server.herokuapp.com","/ships/user/").concat(a));case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,p(n.star_ships),u.forEach((function(e){return e.user=l}));case 8:case"end":return e.stop()}}),e)})))()}),[t,u.length,a]),r.a.createElement(N,{hideOwner:!0,title:"".concat(t,"'s Ships"),ships:u})},se=function(e){var t=e.closeModal,a=e.renderProfile,l={container:{maxWidth:600,margin:"0 auto"},title:{textAlign:"center",margin:"1rem"},contentWrapper:{margin:"1rem"},formWrapper:{marginBottom:"1.5rem"},buttonWrapper:{display:"flex",justifyContent:"center"}},c=Object(n.useState)(""),o=Object(m.a)(c,2),u=o[0],p=o[1],f=Object(n.useState)(""),b=Object(m.a)(f,2),E=b[0],y=b[1],v=Object(n.useState)(1),x=Object(m.a)(v,2),j=x[0],O=x[1],w=Object(n.useState)(""),k=Object(m.a)(w,2),C=k[0],S=k[1],N=Object(n.useState)("rebellion"),_=Object(m.a)(N,2),I=_[0],W=_[1],B=Object(n.useState)([]),F=Object(m.a)(B,2),P=F[0],L=F[1],T=Object(n.useState)(""),A=Object(m.a)(T,2),R=(A[0],A[1]),D=Object(n.useState)(""),M=Object(m.a)(D,2),G=M[0],Y=M[1],V=Object(n.useState)(""),X=Object(m.a)(V,2),$=X[0],K=X[1],Q=Object(n.useState)(""),Z=Object(m.a)(Q,2),ee=Z[0],te=Z[1],ae=Object(n.useState)(null),ne=Object(m.a)(ae,2),re=ne[0],le=ne[1],ce=Object(n.useState)(!0),oe=Object(m.a)(ce,2),ie=(oe[0],oe[1]),se=Object(n.useContext)(h),me=se.id,ue=se.logout,pe=se.token,de=se.login;Object(n.useEffect)((function(){Object(s.a)(i.a.mark((function e(){var t,a,n,r,l,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://star-trader-server.herokuapp.com","/users/").concat(me));case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,n=a.user,y(n.name),p(n.email),O(n.species),S(n.bio),W(n.faction?"rebellion":"empire"),R(n.user_image),e.next=15,fetch("".concat("https://star-trader-server.herokuapp.com","/users/species"));case 15:return r=e.sent,e.next=18,r.json();case 18:l=e.sent,c=l.species,L(c);case 21:case"end":return e.stop()}}),e)})))()}),[me]);var fe=function(e){"email"===e.target.name?p(e.target.value):"name"===e.target.name?y(e.target.value):"species"===e.target.name?O(e.target.value):"bio"===e.target.name?S(e.target.value):"faction"===e.target.name?"rebellion"===e.target.value?W("rebellion"):W("empire"):"oldPassword"===e.target.name?Y(e.target.value):"newPassword"===e.target.name?K(e.target.value):"confirmPassword"===e.target.name&&te(e.target.value)},ge=function(){var e=Object(s.a)(i.a.mark((function e(n){var r,l,c,o,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),r="https://starwars-trader-imgs.s3.us-east-2.amazonaws.com/img/species/".concat(j,".jpg"),e.next=4,fetch("".concat("https://star-trader-server.herokuapp.com","/users/update/").concat(me),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:pe},body:JSON.stringify({email:u,name:E,species:j,bio:C,faction:"rebellion"===I,user_image:r})});case 4:return l=e.sent,e.next=7,l.json();case 7:c=e.sent,console.log("UPDATE DATA::",c),c.error?le(c.error):(o=c.access_token,s=c.user,t(),de(o,s),a());case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),he=function(){var e=Object(s.a)(i.a.mark((function e(n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),($||ee)&&$!==ee&&le("Please make sure that you have entered the new password correctly."),e.next=4,fetch("".concat("https://star-trader-server.herokuapp.com","/users/password/").concat(me),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:pe},body:JSON.stringify({old_password:G,new_password:$})});case 4:return r=e.sent,e.next=7,r.json();case 7:e.sent.error||!r.ok?le("There was a problem updating your password. Please make sure your old password is correct and try again."):(t(),a());case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),be=function(){var e=Object(s.a)(i.a.mark((function e(){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://star-trader-server.herokuapp.com","/users/delete/").concat(me),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:pe}});case 2:return a=e.sent,e.next=5,a.json();case 5:(n=e.sent).error?le(n.error):(ue(),t(),ie(!1));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:l.contentWrapper},r.a.createElement(d.Button,{onClick:t},r.a.createElement(g.b,null)),r.a.createElement(d.Heading,{node:"h2",style:l.title},"Account"),r.a.createElement("div",{style:{padding:".5rem .75rem .5rem",textAlign:"center"}},r.a.createElement(d.Words,{animate:!0,layer:"alert"},re||" ")),r.a.createElement("div",{style:l.formWrapper},r.a.createElement("form",{onSubmit:ge,style:l.loginForm},r.a.createElement(d.Heading,{node:"h3"},"Change Profile"),r.a.createElement(d.Line,{animate:!0}),r.a.createElement(U,{label:"Email: ",type:"email",name:"email",onChange:fe,required:!0,value:u}),r.a.createElement(U,{label:"Name: ",type:"text",name:"name",onChange:fe,required:!0,value:E}),r.a.createElement(z,{label:"Species: ",name:"species",onChange:fe,options:P,optionValueId:"id",optionInnerContent:"species_type",required:!0,selected:j}),r.a.createElement("p",{style:{padding:".5rem 0 .75rem",margin:0}},r.a.createElement(q,{label:"Faction: ",required:!0}),r.a.createElement(H,{name:"faction",value:"rebellion",checked:"rebellion"===I,onChange:fe,label:"Rebellion"}),r.a.createElement(H,{name:"faction",value:"empire",checked:"empire"===I,onChange:fe,label:"Empire"})),r.a.createElement(J,{label:"Bio: ",type:"textarea",name:"bio",onChange:fe,required:!0,value:C}),r.a.createElement("div",{style:l.buttonWrapper},r.a.createElement(d.Button,{onClick:ge},"Update Profile")))),r.a.createElement("div",{style:l.formWrapper},r.a.createElement("form",{onSubmit:he,style:l.loginForm},r.a.createElement(d.Heading,{node:"h3"},"Change Password"),r.a.createElement(d.Line,{animate:!0}),r.a.createElement(U,{label:"Old Password: ",type:"password",name:"oldPassword",onChange:fe}),r.a.createElement(U,{label:"New Password: ",type:"password",name:"newPassword",onChange:fe,required:!0}),r.a.createElement(U,{label:"Confirm New Password: ",type:"password",name:"confirmPassword",onChange:fe,required:!0}),r.a.createElement("div",{style:l.buttonWrapper},r.a.createElement(d.Button,{onClick:he},"Change Password")))),r.a.createElement("div",{style:l.formWrapper},r.a.createElement("form",{onSubmit:be,style:l.loginForm},r.a.createElement(d.Heading,{node:"h3"},r.a.createElement(d.Words,{layer:"alert"},"Delete Account")),r.a.createElement(d.Line,{animate:!0}),r.a.createElement(d.Words,{layer:"primary"},r.a.createElement("p",null,r.a.createElement("em",null,"Warning:")," once you click this button, your account will be lost to the galaxy forever.")),r.a.createElement("div",{style:l.buttonWrapper},r.a.createElement(d.Button,{layer:"alert",onClick:be},"Delete Account"))))))},me=function(e){var t=e.renderProfile,a=e.buttonStyles;return r.a.createElement(ne,{buttonText:"Account",buttonStyles:a},r.a.createElement(se,{renderProfile:function(){return t()}}))},ue=function(e){var t=e.closeModal,a=e.renderProfile,l={container:{padding:"2rem",maxWidth:600,margin:"0 auto"},title:{textAlign:"center",margin:"1rem"},contentWrapper:{margin:"1rem"}},c=Object(n.useContext)(h),o=c.id,u=c.token,p=Object(n.useState)(0),f=Object(m.a)(p,2),b=f[0],E=f[1],y=Object(n.useState)(null),v=Object(m.a)(y,2),x=v[0],j=v[1],O=Object(n.useState)(null),w=Object(m.a)(O,2),k=w[0],C=w[1];Object(n.useEffect)((function(){Object(s.a)(i.a.mark((function e(){var t,a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://star-trader-server.herokuapp.com","/users/").concat(o));case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,n=a.user,j(n.credit);case 8:case"end":return e.stop()}}),e)})))()}),[o]);var S=function(){var e=Object(s.a)(i.a.mark((function e(n){var r,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,fetch("".concat("https://star-trader-server.herokuapp.com","/users/fundcredits/").concat(o),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:u},body:JSON.stringify({credits:parseInt(b)})});case 3:r=e.sent,(l=r.json()).error?(C(l.error),alert("It looks like the IGBC network is having some problems processing your transfer of credits. Please try again later.")):(t(),a());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{style:l.contentWrapper},r.a.createElement(d.Button,{onClick:t},r.a.createElement(g.b,null)),r.a.createElement(d.Heading,{node:"h2",style:l.title},"Add Credit"),r.a.createElement("div",{style:{padding:".75rem",textAlign:"center"}},r.a.createElement(d.Words,{animate:!0,layer:"alert"},r.a.createElement("p",null,k||" ")),r.a.createElement(d.Words,{layer:"primary"},r.a.createElement("p",null,"Current Credit Balance: ",x))),r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement(d.Words,{layer:"primary"},"Credits will automatically be deducted from your InterGalactic Banking Clan (IGBC) account.")),r.a.createElement("form",{onSubmit:S,style:l.loginForm},r.a.createElement(U,{label:"Add Credits: ",type:"number",name:"credit",onChange:function(e){"credit"===e.target.name&&E(e.target.value)},required:!0,value:b}),r.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginTop:".5rem"}},r.a.createElement(d.Button,{onClick:S,layer:"success"},"Add Credits")))))},pe=function(e){var t=e.buttonStyles,a=e.renderProfile;return r.a.createElement(ne,{buttonLayer:"success",buttonText:"Add Credits",buttonStyles:t},r.a.createElement(ue,{renderProfile:function(){return a()}}))},de=Object(d.withStyles)((function(e){var t;return{profileWrapper:(t={margin:"1rem 10rem 4rem"},Object(f.a)(t,"@media (max-width: ".concat(e.responsive.medium+1,"px)"),{margin:"1rem 5rem"}),Object(f.a)(t,"@media (max-width: ".concat(e.responsive.small+1,"px)"),{margin:"1rem"}),t),profileContentWrapper:{margin:"1rem 0rem"},profileContent:Object(f.a)({padding:".75rem",display:"grid",gridTemplateColumns:"1fr 3fr",alignItems:"center",justifyItems:"center"},"@media (max-width: ".concat(e.responsive.small+1,"px)"),{gridTemplateColumns:"1fr"}),profilePicture:{maxWidth:250,marginTop:"1rem"},profileInfo:{padding:"1rem",width:"100%"},profileName:Object(f.a)({display:"flex",justifyContent:"space-between",alignItems:"center"},"@media (max-width: ".concat(e.responsive.small+1,"px)"),{flexDirection:"column"}),profileButtonWrapper:Object(f.a)({display:"flex",flexDirection:"column",alignItems:"center",paddingLeft:"1.5rem"},"@media (max-width: ".concat(e.responsive.small+1,"px)"),{flexDirection:"row",justifyContent:"center",flexWrap:"wrap",marginBottom:"1rem"}),profileButton:{margin:".5rem",display:"inline-block",width:125,textAlign:"center"}}}))((function(e){var t=e.classes,a=e.personalProfile,l=parseInt(Object(p.g)().id),c=Object(n.useContext)(h).id,o=Object(n.useState)({}),u=Object(m.a)(o,2),f=u[0],g=u[1];Object(n.useEffect)((function(){Object(s.a)(i.a.mark((function e(){var t,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://star-trader-server.herokuapp.com","/users/").concat(a?c:l));case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,r=n.user,g(r);case 8:case"end":return e.stop()}}),e)})))()}),[l,a,c,f.id]);var b=function(){Object(s.a)(i.a.mark((function e(){var t,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://star-trader-server.herokuapp.com","/users/").concat(a?c:l));case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,r=n.user,g(r);case 8:case"end":return e.stop()}}),e)})))()};return console.table([l,c]),l===c?r.a.createElement(p.a,{to:"/profile"}):r.a.createElement(r.a.Fragment,null,f.id?r.a.createElement(d.Content,{className:t.profileWrapper},r.a.createElement("div",{className:t.profileContentWrapper},r.a.createElement(d.Frame,{animate:!0,level:3,corners:4},r.a.createElement("section",{className:t.profileContent},r.a.createElement(d.Image,{resources:f.user_image,animate:!0,layer:"primary",className:t.profilePicture}),r.a.createElement("div",{className:t.profileInfo},r.a.createElement("div",{className:t.profileName},r.a.createElement("h1",null,f.name),a?r.a.createElement("div",{className:t.profileButtonWrapper},r.a.createElement(me,{renderProfile:function(){return b()},buttonStyles:{margin:".25rem",display:"inline-block",width:125,textAlign:"center"}}),r.a.createElement(pe,{renderProfile:b,buttonStyles:{margin:".5rem",display:"inline-block",width:125,textAlign:"center"}}),r.a.createElement(d.Link,{href:"/sell-ship"},r.a.createElement(d.Button,{className:t.profileButton},"Sell Ship"))):null),a?r.a.createElement("p",null,f.credit," credits"):"",r.a.createElement("p",{className:t.profileAdditionalInfo},r.a.createElement("span",null,f.species_info.species_type)," \u2022 ",r.a.createElement("span",null,f.faction?"Rebellion":"Empire")),r.a.createElement("p",{className:t.profileBio},f.bio))))),r.a.createElement("section",null,r.a.createElement(ie,{name:f.name,id:f.id,user:f})),r.a.createElement("section",null)):r.a.createElement(F,null))})),fe=function(){var e={background:{padding:0,margin:0,position:"fixed",zIndex:-1,top:0,bottom:0,left:0,right:0,backgroundImage:"url(/assets/img/deathstar-background.webp)",backgroundRepeat:"repeat-y",backgroundPosition:"center",backgroundSize:"cover",height:"100%"},backgroundFiler:{position:"absolute",top:0,bottom:0,left:0,right:0,zIndex:2,backgroundColor:"rgba(38, 218, 253, .05)"}};return r.a.createElement("div",{style:e.background},r.a.createElement("div",{style:e.backgroundFiler}))},ge=(a(329),{puffs1:{width:"100%",height:300,top:"-50%",position:"fixed",zIndex:-1},puffs2:{}}),he=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.Puffs,null,r.a.createElement("div",{style:ge.puffs1})))},be=function(){var e={container:{padding:"2rem",maxWidth:600,margin:"0 auto"},title:{textAlign:"center",margin:"1rem"},contentWrapper:{margin:"2rem"}},t=Object(n.useState)(""),a=Object(m.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(""),u=Object(m.a)(o,2),f=u[0],g=u[1],b=Object(n.useState)(null),E=Object(m.a)(b,2),y=E[0],v=E[1],x=Object(n.useState)(!1),j=Object(m.a)(x,2),O=j[0],w=j[1],k=Object(n.useContext)(h).login,C=function(e){"email"===e.target.name?c(e.target.value):"password"===e.target.name&&g(e.target.value)},S=function(){var e=Object(s.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,fetch("".concat("https://star-trader-server.herokuapp.com","/users/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:l,password:f})});case 4:return a=e.sent,e.next=7,a.json();case 7:if(!(n=e.sent).error){e.next=11;break}return v(n.error),e.abrupt("return");case 11:k(n.access_token,n.user),w(!0),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),alert("Oh no, It looks like there was some force interference causing problems with our server...");case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,O?r.a.createElement(p.a,{to:"/"}):r.a.createElement("div",null,r.a.createElement(d.Content,{style:e.container},r.a.createElement(d.Frame,{animate:!0,level:3,corners:4,style:e.frame},r.a.createElement("div",{style:e.contentWrapper},r.a.createElement(d.Heading,{node:"h2",style:e.title},"Log In"),r.a.createElement("div",{style:{padding:".75rem .75rem 1.5rem",textAlign:"center"}},r.a.createElement(d.Words,{animate:!0,layer:"alert"},y||" ")),r.a.createElement("div",null,r.a.createElement("form",{onSubmit:S,style:e.loginForm},r.a.createElement(U,{label:"Email: ",type:"email",name:"email",onChange:C,value:l}),r.a.createElement(U,{label:"Password: ",type:"password",name:"password",onChange:C,value:f}),r.a.createElement("p",{style:{display:"flex",justifyContent:"space-evenly"}},r.a.createElement(d.Button,null,"Log In"),r.a.createElement(d.Button,{onClick:function(){c("lukeskywalker@aol.com"),g("force1")}},"Demo User"))))))),r.a.createElement(he,null)))},Ee=a(40),ye=a.n(Ee),ve=function(){var e={container:{padding:"2rem",maxWidth:600,margin:"0 auto"},title:{textAlign:"center",margin:"1rem"},contentWrapper:{margin:"1rem"}},t=Object(n.useState)(""),a=Object(m.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(""),u=Object(m.a)(o,2),f=u[0],g=u[1],b=Object(n.useState)(""),E=Object(m.a)(b,2),y=E[0],v=E[1],x=Object(n.useState)(""),j=Object(m.a)(x,2),O=j[0],w=j[1],k=Object(n.useState)(1),C=Object(m.a)(k,2),S=C[0],N=C[1],_=Object(n.useState)(""),I=Object(m.a)(_,2),W=I[0],B=I[1],F=Object(n.useState)("rebellion"),P=Object(m.a)(F,2),L=P[0],T=P[1],A=Object(n.useState)([]),R=Object(m.a)(A,2),D=R[0],M=R[1],G=Object(n.useState)(null),Y=Object(m.a)(G,2),V=Y[0],X=Y[1],$=Object(n.useState)(!1),K=Object(m.a)($,2),Q=K[0],Z=K[1],ee=Object(n.useContext)(h).login;Object(n.useEffect)((function(){Object(s.a)(i.a.mark((function e(){var t,a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://star-trader-server.herokuapp.com","/users/species"));case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,n=a.species,M(n);case 8:case"end":return e.stop()}}),e)})))()}),[]);var te=function(e){"email"===e.target.name?c(e.target.value):"password"===e.target.name?g(e.target.value):"confirmPassword"===e.target.name?v(e.target.value):"name"===e.target.name?w(e.target.value):"species"===e.target.name?N(e.target.value):"bio"===e.target.name?B(e.target.value):"faction"===e.target.name&&("rebellion"===e.target.value?T("rebellion"):T("empire"))},ae=function(){var e=Object(s.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),console.table(l,f,y,O,S,W,L),f===y){e.next=9;break}return X("It looks like you entered 2 different passwords. Please reenter your password the same in both fields and try again."),g(""),v(""),document.getElementsByName("password")[0].value="",document.getElementsByName("confirmPassword")[0].value="",e.abrupt("return");case 9:return e.prev=9,e.next=12,fetch("".concat("https://star-trader-server.herokuapp.com","/users/create"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:l,password:f,name:O,species:S,bio:W,faction:"rebellion"===L,user_image:"https://starwars-trader-imgs.s3.us-east-2.amazonaws.com/img/species/".concat(S,".jpg")})});case 12:return a=e.sent,e.next=15,a.json();case 15:if(!(n=e.sent).error){e.next=19;break}return X(n.error),e.abrupt("return");case 19:ee(n.access_token,n.user),Z(!0),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(9),alert("Oh no, it looks like there was some force interference causing problems with our server. Please try again later.");case 26:case"end":return e.stop()}}),e,null,[[9,23]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,Q?r.a.createElement(p.a,{to:"/"}):r.a.createElement("div",null,r.a.createElement(d.Content,{style:e.container},r.a.createElement(ye.a,{animate:!0,level:3,corners:4,style:e.frame},r.a.createElement("div",{style:e.contentWrapper},r.a.createElement(d.Heading,{node:"h2",style:e.title},"Sign Up"),r.a.createElement("div",{style:{padding:".75rem .75rem 1.5rem",textAlign:"center"}},r.a.createElement(d.Words,{animate:!0,layer:"alert"},V||" ")),r.a.createElement("div",null,r.a.createElement("form",{onSubmit:ae,style:e.loginForm},r.a.createElement(U,{label:"Email: ",type:"email",name:"email",onChange:te,required:!0}),r.a.createElement(U,{label:"Name: ",type:"text",name:"name",onChange:te,required:!0}),r.a.createElement(U,{label:"Password: ",type:"password",name:"password",onChange:te,required:!0}),r.a.createElement(U,{label:"Confirm password: ",type:"password",name:"confirmPassword",onChange:te,required:!0}),r.a.createElement(z,{label:"Species: ",name:"species",onChange:te,options:D,optionValueId:"id",optionInnerContent:"species_type",required:!0}),r.a.createElement("p",{style:{padding:".5rem 0 .75rem",margin:0}},r.a.createElement(q,{label:"Faction: ",required:!0}),r.a.createElement(H,{name:"faction",value:"rebellion",checked:"rebellion"===L,onChange:te,label:"Rebellion"}),r.a.createElement(H,{name:"faction",value:"empire",checked:"empire"===L,onChange:te,label:"Empire"})),r.a.createElement(J,{label:"Bio: ",type:"textarea",name:"bio",onChange:te,required:!0}),r.a.createElement("p",{style:{textAlign:"center"}},r.a.createElement(d.Button,null,"Sign Up"))))))),r.a.createElement(he,null)))},xe=function(){var e={container:{padding:"2rem",maxWidth:600,margin:"0 auto"},title:{textAlign:"center",margin:"1rem"},contentWrapper:{margin:"1rem"}},t=Object(n.useState)(),a=Object(m.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)([]),u=Object(m.a)(o,2),f=u[0],g=u[1],b=Object(n.useState)(1),E=Object(m.a)(b,2),y=E[0],v=E[1],x=Object(n.useState)(null),j=Object(m.a)(x,2),O=j[0],w=j[1],k=Object(n.useState)(0),C=Object(m.a)(k,2),S=C[0],N=C[1],_=Object(n.useState)(0),I=Object(m.a)(_,2),W=I[0],B=I[1],F=Object(n.useState)(""),P=Object(m.a)(F,2),L=P[0],T=P[1],A=Object(n.useState)("true"),R=Object(m.a)(A,2),D=R[0],M=R[1],G=Object(n.useState)(null),Y=Object(m.a)(G,2),V=Y[0],X=Y[1],$=Object(n.useContext)(h),K=$.user.id,Q=$.token;Object(n.useEffect)((function(){Object(s.a)(i.a.mark((function e(){var t,a,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://star-trader-server.herokuapp.com","/ships/types"));case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,n=a.ship_types,r=n.filter((function(e){return!1===e.unique})),g(r),v(r[0].id);case 10:case"end":return e.stop()}}),e)})))()}),[]);var Z=function(e){switch(e.target.name){case"ship_type":v(e.target.value);break;case"custom_name":w(e.target.value);break;case"sale_price":N(e.target.value);break;case"lightyears_traveled":B(e.target.value);break;case"for_sale":M(e.target.value);break;case"seller_comment":T(e.target.value);break;default:return}},ee=function(){var e=Object(s.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,fetch("".concat("https://star-trader-server.herokuapp.com","/ships/create"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:Q},body:JSON.stringify({ship_type:y,custom_name:O,sale_price:parseInt(S),lightyears_traveled:parseInt(W),seller_comment:L,for_sale:"true"===D,owner:K})});case 4:return a=e.sent,e.next=7,a.json();case 7:if(!(n=e.sent).error){e.next=13;break}return X(n.error),e.abrupt("return");case 13:c(n.starship);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),alert("Oh no, it looks like there was some force interference causing problems with our server. Please try again later.");case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,l?r.a.createElement(p.a,{to:"/listings/".concat(l.id)}):r.a.createElement(d.Content,{style:e.container},r.a.createElement(ye.a,{animate:!0,level:3,corners:4,style:e.frame},r.a.createElement("div",{style:e.contentWrapper},r.a.createElement(d.Heading,{node:"h2",style:e.title},"Sell Your Starship"),r.a.createElement("div",{style:{padding:".75rem .75rem 1.5rem",textAlign:"center"}},r.a.createElement(d.Words,{animate:!0,layer:"alert"},V||" ")),r.a.createElement("div",null,r.a.createElement("form",{onSubmit:ee,style:e.loginForm},r.a.createElement(z,{label:"Ship Type: ",name:"ship_type",onChange:Z,options:f,optionValueId:"id",optionInnerContent:"type_name",required:!0}),r.a.createElement(U,{label:"Custom Name: ",type:"text",name:"custom_name",onChange:Z}),r.a.createElement(U,{label:"Price: ",type:"number",name:"sale_price",onChange:Z,required:!0}),r.a.createElement(U,{label:"Lightyears Traveled: ",type:"number",name:"lightyears_traveled",onChange:Z,required:!0}),r.a.createElement("p",{style:{padding:".5rem 0"}},r.a.createElement(q,{label:"For Sale: ",required:!0}),r.a.createElement(H,{name:"for_sale",value:"true",checked:"true"===D,onChange:Z,label:"Yes"}),r.a.createElement(H,{name:"for_sale",value:"false",checked:"false"===D,onChange:Z,label:"Not Right Now"})),r.a.createElement(J,{label:"Comment: ",type:"textarea",name:"seller_comment",onChange:Z}),r.a.createElement("p",{style:{textAlign:"center"}},r.a.createElement(d.Button,null,"List Ship"))))))))},je=function(){var e={container:{padding:"2rem",maxWidth:600,margin:"0 auto"},title:{textAlign:"center",margin:"1rem"},contentWrapper:{margin:"1rem"}};return r.a.createElement("div",null,r.a.createElement(d.Content,{style:e.container},r.a.createElement(d.Frame,{animate:!0,level:3,corners:4,style:e.frame},r.a.createElement("div",{style:e.contentWrapper},r.a.createElement(d.Heading,{node:"h2",style:e.title},"404"),r.a.createElement("div",null,r.a.createElement("p",{style:{textAlign:"center"}},r.a.createElement(d.Words,{animate:!0},"Resource Not Found")),r.a.createElement(d.Image,{animate:!0,resources:"/assets/img/404-fail.webp",alt:"Lego Stormtrooper hitting tree on speederbike",style:{opacity:".7"}}))))))};var Oe=function(e){var t=e.children,a=Object(y.a)(e,["children"]),n=JSON.parse(localStorage.getItem("id"));return r.a.createElement(p.b,Object.assign({},a,{render:function(e){var a=e.location;return n?t:r.a.createElement(p.a,{to:{pathname:"/",state:{from:a}}})}}))},we={vader:{color:{primary:{base:"#e91e63",dark:"#b0003a",light:"#ff6090"},control:{base:"#f06292",dark:"#ba2d65",light:"#ff94c2"},header:{base:"#f06292",dark:"#ba2d65",light:"#ff94c2"}}},windu:{color:{primary:{base:"#be26fc",dark:"#8e1bbd",light:"#c95bf6"},control:{base:"#fc26fa",dark:"#a818a7",light:"#f458f2"},header:{base:"#fc26fa",dark:"#a818a7",light:"#f458f2"}}},yoda:{color:{primary:{base:"#4caf50",dark:"#087f23",light:"#80e27e"},control:{base:"#a5d6a7",dark:"#75a478",light:"#d7ffd9"},header:{base:"#a5d6a7",dark:"#75a478",light:"#d7ffd9"}}},rey:{color:{primary:{base:"#ffee58",dark:"#c9bc1f",light:"#ffff8b"},control:{base:"#fff59d",dark:"#cbc26d",light:"#ffffcf"},header:{base:"#fff59d",dark:"#cbc26d",light:"#ffffcf"}}}};var ke=function(){var e=Object(n.useContext)(h),t=(e.themeName,e.theme);return r.a.createElement(r.a.Fragment,null,!!t.alpha&&r.a.createElement(d.ThemeProvider,{theme:t},r.a.createElement(d.Arwes,null,r.a.createElement(u.a,null,r.a.createElement("div",{style:{minHeight:"91vh"}},r.a.createElement(O,null),r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/"},r.a.createElement(B,null)),r.a.createElement(p.b,{path:"/listings/:id"},r.a.createElement(oe,null)),r.a.createElement(Oe,{exact:!0,path:"/profile"},r.a.createElement(de,{personalProfile:!0})),r.a.createElement(p.b,{path:"/users/:id"},r.a.createElement(de,null)),r.a.createElement(p.b,{path:"/logout"},r.a.createElement(p.a,{to:"/"})),r.a.createElement(p.b,{path:"/login"},r.a.createElement(be,null)),r.a.createElement(p.b,{path:"/signup"},r.a.createElement(ve,null)),r.a.createElement(Oe,{path:"/sell-ship"},r.a.createElement(xe,null)),r.a.createElement(p.b,{path:"*"},r.a.createElement(je,null)))),r.a.createElement(w,null),r.a.createElement(fe,null)))))},Ce=function(){var e=Object(n.useState)(localStorage.getItem("token")),t=Object(m.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(""),o=Object(m.a)(c,2),u=o[0],p=o[1],f=Object(n.useState)(""),g=Object(m.a)(f,2),b=g[0],E=g[1],y=Object(n.useState)(localStorage.getItem("themeName")),v=Object(m.a)(y,2),x=v[0],j=v[1],O=Object(n.useState)({}),w=Object(m.a)(O,2),k=w[0],C=w[1],S=function(e){var t;"luke"!==e&&e?(t=Object(d.createTheme)(we[e]),C(t),j(e),localStorage.setItem("themeName",e)):(t=Object(d.createTheme)(),C(t),j(e="luke"),localStorage.setItem("themeName",e))};Object(n.useEffect)((function(){x?S(x):S()}),[x]),Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("id"));e=JSON.parse(e);var t=!0;try{t=!!JSON.parse(a)}catch(n){}e&&t&&Object(s.a)(i.a.mark((function t(){var n,r,l;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat("https://star-trader-server.herokuapp.com","/users/").concat(e),{headers:{"Content-Type":"application/json",Authorization:a}});case 2:return n=t.sent,t.next=5,n.json();case 5:r=t.sent,l=r.user,p(l),E(l.id),localStorage.setItem("user",l);case 10:case"end":return t.stop()}}),t)})))()}),[a]);var N={token:a,user:u,id:b,login:function(e,t){localStorage.setItem("token",e),localStorage.setItem("id",t.id),localStorage.setItem("user",JSON.stringify(t)),l(e),p(t),E(t.id)},logout:function(){localStorage.setItem("token",null),localStorage.setItem("id",null),localStorage.setItem("user",null),l(null),p(null),E(null)},theme:k,themeName:x,updateTheme:S};return r.a.createElement(h.Provider,{value:N},r.a.createElement(ke,null))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ce,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[189,1,2]]]);
//# sourceMappingURL=main.eb1d6283.chunk.js.map